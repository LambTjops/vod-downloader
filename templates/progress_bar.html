<div hx-get="/status" hx-trigger="load delay:1s" hx-swap="outerHTML" 
     style="padding: 10px; border-radius: 8px; background-color: #2d3748; margin-bottom: 10px; border: 1px solid #4a5568;">
    
    {% if state.is_downloading %}
        <div style="margin-bottom: 5px; font-weight: bold; color: #63b3ed;">
            Downloading: {{ state.current_file }}
        </div>
        
        <progress value="{{ state.percent }}" max="100" style="width: 100%;"></progress>
        
        <div style="display: flex; justify-content: space-between; font-size: 0.8rem; color: #cbd5e0;">
            <span>{{ state.progress_mb }} MB / {{ "%.2f"|format(state.total_mb) }} MB</span>
            <span>{{ state.percent }}%</span>
        </div>

    {% else %}
        <div style="color: #a0aec0; font-size: 0.9rem;">
            {% if state.queue_size > 0 %}
                Waiting for next file...
            {% else %}
                Queue Idle. Ready to download.
            {% endif %}
        </div>
    {% endif %}

    <div style="margin-top: 8px; padding-top: 8px; border-top: 1px solid #4a5568; font-size: 0.85rem; color: #edf2f7; display: flex; align-items: center; gap: 10px;">
        <span>ğŸ“š <strong>Queue:</strong> {{ state.queue_size }} files pending</span>
        {% if state.queue_size > 0 %}
            <span class="loading-icon" style="animation: spin 1s infinite linear;">âš™ï¸</span>
        {% endif %}
    </div>
</div>