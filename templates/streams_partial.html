<div id="status-bar-container" style="width: 100%; margin-bottom: 20px;">
    {% include 'progress_bar.html' ignore missing %}
</div>

{% for item in items %}
<article>
    <header>
        <strong>{{ item.name }}</strong>
    </header>
    
    {% set img_url = item.stream_icon or item.cover or "" %}
    
    {% if img_url != "" %}
        <img src="{{ img_url }}" loading="lazy" alt="Poster">
    {% else %}
        <div style="height: 300px; background: #2d3748; display: flex; align-items: center; justify-content: center; color: #718096;">
            No Image
        </div>
    {% endif %}
    
    <footer>
        {% if type == "movie" %}
            <button 
                hx-get="/queue/add/movie/{{ item.stream_id }}/{{ item.container_extension }}?title={{ item.name }}"
                hx-target="#status-bar-container"
                class="secondary outline">
                Add Movie to Queue
            </button>
        
        {% else %}
            <button 
                hx-get="/episodes/{{ item.series_id }}"
                hx-target="#stream-list"
                class="primary">
                View Episodes
            </button>
        {% endif %}
    </footer>
</article>
{% endfor %}