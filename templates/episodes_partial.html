<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
    <button onclick="window.location.reload()" class="contrast outline">â¬… Back to Categories</button>
    
    <button 
        hx-get="/queue/batch_series/{{ series_id }}"
        hx-target="#status-bar-container"
        class="primary"
        style="background-color: #d69e2e; border-color: #d69e2e; color: black; font-weight: bold;">
        ðŸ“¥ Download All Episodes (Batch)
    </button>
</div>

<div id="status-bar-container">
    {% include 'progress_bar.html' ignore missing %}
</div>

<hr/>

<div style="display: flex; flex-wrap: wrap; gap: 20px; justify-content: center;">
    {% for ep in episodes %}
    <article style="width: 300px; flex: 0 0 300px;">
        <header>S{{ ep.season }} E{{ ep.episode_num }}</header>
        
        {% if ep.info and ep.info.movie_image %}
        <img src="{{ ep.info.movie_image }}" style="height: 150px; width: 100%; object-fit: cover;">
        {% endif %}
        
        <div style="padding: 10px;">
            <small>{{ ep.title }}</small>
        </div>

        <footer>
            {% set full_name = series_name ~ " - S" ~ ep.season ~ "E" ~ ep.episode_num ~ " - " ~ ep.title %}
            <button 
                hx-get="/queue/add/series/{{ ep.id }}/{{ ep.container_extension }}?title={{ full_name }}"
                hx-swap="none"
                onclick="alert('Added to Queue!')"
                class="secondary outline">
                Add to Queue
            </button>
        </footer>
    </article>
    {% endfor %}
</div>